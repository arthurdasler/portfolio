<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Артур</title>
  <link rel="icon" href="/favicon.svg" type="image/x-icon">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/dumalka.css">

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>


</head>

<body style="margin: 0;">
  <div class="main" style="gap: 30px;">
    <div class="content">
      <div class="upper-buttons">
        <a href="/dumalka.html" class="button-icon" target="_self"> <span class="icon-wrapper"><img
              src="/red-circle-anim.svg" alt="" loading="lazy"></span> Назад </a>
      </div>
    </div>


    <div class="article">
      <img class="article-icon" src="https://sergeychikin.ru/365/130-body/pointing.svg" alt="icon">
      <div class="article-date">23 августа</div>
      <div class="article-name">Примитивность vs. простота</div>

      <hr>

      <div id="article-body" class="article-body"></div>

      <hr>
      <div class="tags-wrapper">
        <span class="tag">дизайн</span>
        <span class="tag">вкус</span>
        <span class="tag">простота</span>
      </div>

    </div>




  </div>


  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
  <script>
    (async function () {
      const container = document.getElementById('article-body');
      const mdSrc = "/blog/prostota-vs-primitivnost.md"; // ссылка md

      try {
        const res = await fetch(mdSrc, { cache: "no-cache" });
        const raw = await res.text();

        // Парсим md -> html
        let html = marked.parse(raw);

        // Санитизация
        const safeHTML = DOMPurify.sanitize(html, { USE_PROFILES: { html: true } });

        // Вставляем в контейнер
        container.innerHTML = safeHTML;

        // Обрабатываем картинки
        container.querySelectorAll("img").forEach(img => {
          img.classList.add("article-img");
          if (!img.getAttribute("loading")) img.setAttribute("loading", "lazy");
        });

      } catch (e) {
        console.error(e);
        container.innerHTML = "<p>Ошибка загрузки статьи</p>";
      }
    })();
  </script>

</body>


</html>